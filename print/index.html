<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.15.29"/><title data-react-helmet="true">Next.js</title><link as="script" rel="preload" href="/webpack-runtime-cf49e904ee5893dbe373.js"/><link as="script" rel="preload" href="/commons-63258e51d1daedc99591.js"/><link as="script" rel="preload" href="/app-800b2ab843b3ac77f96e.js"/><link as="script" rel="preload" href="/component---gatsby-theme-mdx-deck-src-templates-deck-js-472205e127ea4378d33c.js"/><link as="fetch" rel="preload" href="/page-data/print/page-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
        var mode = localStorage.getItem('theme-ui-color-mode');
        if (!mode) return
        document.body.classList.add('theme-ui-' + mode);
      } catch (e) {} })();</script><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><style data-emotion-css="13j5fvw">body{margin:0;}</style><style data-emotion-css="bdfrlc">.css-bdfrlc{width:100vw;height:100vh;}.css-bdfrlc *{box-sizing:border-box;}</style><div class="css-bdfrlc"><div style="outline:none;height:100%" tabindex="-1" role="group"><style data-emotion-css="gxvojt">.css-gxvojt{box-sizing:border-box;width:100%;height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:relative;color:var(--theme-ui-colors-text,#9CDCFE);background-color:var(--theme-ui-colors-background,#1E1E1E);font-family:system-ui,sans-serif;font-size:20px;}@media screen and (min-width:40em){.css-gxvojt{font-size:24px;}}@media screen and (min-width:52em){.css-gxvojt{font-size:32px;}}@media screen and (min-width:64em){.css-gxvojt{font-size:48px;}}</style><div class="css-gxvojt"><style data-emotion-css="1djqpdg">.css-1djqpdg{font-family:inherit;line-height:1.125;font-weight:700;}</style><h1 class="css-1djqpdg">NextJS</h1><p class="css-0">NextJS 13功能介绍及落地实现</p><p class="css-0"><style data-emotion-css="199bzt4">.css-199bzt4{color:var(--theme-ui-colors-primary,rgb(206,145,120));}</style><a href="https://nextjs.org/docs" class="css-199bzt4">官方文档</a></p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="oedec6">.css-oedec6{color:#9CDCFE;background-color:#1E1E1E;}.css-oedec6 .token-prolog{color:rgb(0,0,128);}.css-oedec6 .token-comment{color:rgb(106,153,85);}.css-oedec6 .token-builtin,.css-oedec6 .token-changed,.css-oedec6 .token-keyword{color:rgb(86,156,214);}.css-oedec6 .token-number,.css-oedec6 .token-inserted{color:rgb(181,206,168);}.css-oedec6 .token-constant{color:rgb(100,102,149);}.css-oedec6 .token-attr-name,.css-oedec6 .token-variable{color:rgb(156,220,254);}.css-oedec6 .token-deleted,.css-oedec6 .token-string,.css-oedec6 .token-attr-value{color:rgb(206,145,120);}.css-oedec6 .token-selector{color:rgb(215,186,125);}.css-oedec6 .token-tag{color:rgb(86,156,214);}.css-oedec6 .token-punctuation,.css-oedec6 .token-operator{color:rgb(212,212,212);}.css-oedec6 .token-punctuation{color:#808080;}.css-oedec6 .token-function{color:rgb(220,220,170);}.css-oedec6 .token-class-name{color:rgb(78,201,176);}.css-oedec6 .token-char{color:rgb(209,105,105);}</style><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="xbe36b">.css-xbe36b{color:#9CDCFE;background-color:#1E1E1E;}</style><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-plain">npx create-next-app@latest</span></div></div><div></div></code></pre><style data-emotion-css="1q54swq">.css-1q54swq{position:absolute;top:0;width:100%;margin:0;padding:1em 0;text-align:center;background-color:#1E1E1E;color:#9CDCFE;}</style><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">创建项目</span></h4></div></div></div></div><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="n2kuek">.css-n2kuek{color:#393A34;background-color:#f6f8fa;}.css-n2kuek .token-prolog{color:rgb(0,0,128);}.css-n2kuek .token-comment{color:rgb(106,153,85);}.css-n2kuek .token-builtin,.css-n2kuek .token-changed,.css-n2kuek .token-keyword{color:rgb(86,156,214);}.css-n2kuek .token-number,.css-n2kuek .token-inserted{color:rgb(181,206,168);}.css-n2kuek .token-constant{color:rgb(100,102,149);}.css-n2kuek .token-attr-name,.css-n2kuek .token-variable{color:rgb(156,220,254);}.css-n2kuek .token-deleted,.css-n2kuek .token-string,.css-n2kuek .token-attr-value{color:rgb(206,145,120);}.css-n2kuek .token-selector{color:rgb(215,186,125);}.css-n2kuek .token-tag{color:rgb(86,156,214);}.css-n2kuek .token-punctuation,.css-n2kuek .token-operator{color:#393A34;}.css-n2kuek .token-punctuation{color:#808080;}.css-n2kuek .token-function{color:rgb(220,220,170);}.css-n2kuek .token-class-name{color:rgb(78,201,176);}.css-n2kuek .token-char{color:rgb(209,105,105);}.css-n2kuek .token-comment,.css-n2kuek .token-prolog,.css-n2kuek .token-doctype,.css-n2kuek .token-cdata{color:#999988;font-style:italic;}.css-n2kuek .token-namespace{opacity:0.7;}.css-n2kuek .token-string,.css-n2kuek .token-attr-value{color:#e3116c;}.css-n2kuek .token-entity,.css-n2kuek .token-url,.css-n2kuek .token-symbol,.css-n2kuek .token-number,.css-n2kuek .token-boolean,.css-n2kuek .token-variable,.css-n2kuek .token-constant,.css-n2kuek .token-property,.css-n2kuek .token-regex,.css-n2kuek .token-inserted{color:#36acaa;}.css-n2kuek .token-atrule,.css-n2kuek .token-keyword,.css-n2kuek .token-attr-name,.css-n2kuek .token-selector{color:#00a4db;}.css-n2kuek .token-function,.css-n2kuek .token-deleted,.css-n2kuek .token-tag{color:#d73a49;}.css-n2kuek .token-function-variable{color:#6f42c1;}.css-n2kuek .token-tag,.css-n2kuek .token-selector{color:#00009f;}</style><pre class="cs-content css-n2kuek" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="xdak34">.css-xdak34{color:#393A34;background-color:#f6f8fa;}</style><code class="cs-scaled-content css-xdak34" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-plain">✔ What is your project named? … my-app</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">✔ Would you like to use TypeScript with this project? … No / Yes</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">✔ Would you like to use ESLint with this project? … No / Yes</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">✔ Would you like to use Tailwind CSS with this project? … No / Yes</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain" style="opacity:0.3">✔</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">W</span><span class="token-plain" style="opacity:0.3">o</span><span class="token-plain" style="opacity:0.3">u</span><span class="token-plain" style="opacity:0.3">l</span><span class="token-plain" style="opacity:0.3">d</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">y</span><span class="token-plain" style="opacity:0.3">o</span><span class="token-plain" style="opacity:0.3">u</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">l</span><span class="token-plain" style="opacity:0.3">i</span><span class="token-plain" style="opacity:0.3">k</span><span class="token-plain" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">t</span><span class="token-plain" style="opacity:0.3">o</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">u</span><span class="token-plain" style="opacity:0.3">s</span><span class="token-plain" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-variable" style="opacity:1">`</span><span class="token-variable" style="opacity:1">s</span><span class="token-variable" style="opacity:1">r</span><span class="token-variable" style="opacity:1">c</span><span class="token-variable" style="opacity:1">/</span><span class="token-variable" style="opacity:1">`</span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:0.3">d</span><span class="token-plain" style="opacity:0.3">i</span><span class="token-plain" style="opacity:0.3">r</span><span class="token-plain" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3">c</span><span class="token-plain" style="opacity:0.3">t</span><span class="token-plain" style="opacity:0.3">o</span><span class="token-plain" style="opacity:0.3">r</span><span class="token-plain" style="opacity:0.3">y</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">w</span><span class="token-plain" style="opacity:0.3">i</span><span class="token-plain" style="opacity:0.3">t</span><span class="token-plain" style="opacity:0.3">h</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">t</span><span class="token-plain" style="opacity:0.3">h</span><span class="token-plain" style="opacity:0.3">i</span><span class="token-plain" style="opacity:0.3">s</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">p</span><span class="token-plain" style="opacity:0.3">r</span><span class="token-plain" style="opacity:0.3">o</span><span class="token-plain" style="opacity:0.3">j</span><span class="token-plain" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3">c</span><span class="token-plain" style="opacity:0.3">t</span><span class="token-plain" style="opacity:0.3">?</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">…</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">N</span><span class="token-plain" style="opacity:0.3">o</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">/</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">Y</span><span class="token-plain" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3">s</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">✔ Use App Router </span><span class="token-punctuation">(</span><span class="token-plain">recommended</span><span class="token-punctuation">)</span><span class="token-plain">? … No / Yes</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">✔ Would you like to customize the default </span><span class="token-function">import</span><span class="token-plain"> alias? … No / Yes</span></div></div><div></div></code></pre><style data-emotion-css="1xose5o">.css-1xose5o{position:absolute;top:0;width:100%;margin:0;padding:1em 0;text-align:center;background-color:#f6f8fa;color:#393A34;}</style><h4 class="cs-title css-1xose5o" style="opacity:1"><span style="opacity:1">可选app路由还是page路由</span></h4></div></div></div></div><style data-emotion-css="fs2d1k">.css-fs2d1k{position:absolute;bottom:0;width:calc(100% - 2em);box-sizing:border-box;margin:0.3em 1em;padding:0.5em;background:rgba(2,2,2,0.9);text-align:center;color:#d6deeb;background-color:rgba(10,10,10,0.9);}</style><p class="cs-subtitle css-fs2d1k" style="margin:0.3em 0"><span>NextJS项目初始化</span></p></div></div><div class="css-gxvojt"><style data-emotion-css="1prsnj1">.css-1prsnj1{width:100%;height:100%;background-image:url(/static/app.dic-f515e98a48377235f4aed4a5ff76e51c.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div class="css-1prsnj1"></div></div><div class="css-gxvojt"><p class="css-0">Page路由项目介绍</p></div><div class="css-gxvojt"><p class="css-0">页面布局</p><p class="css-0">next.js 可以通过设置统一的页面布局</p><p class="css-0">也可以通过设置每个页面中自定义的getLayout返回布局组件</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">import</span><span class="token-plain"> React </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;react&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">MyApp</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-parameter"> Component </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">LayoutCom</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-parameter"> children </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">    </span><span class="token-punctuation">&lt;</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">      </span><span class="token-punctuation">&lt;</span><span class="token-tag">h3</span><span class="token-punctuation">&gt;</span><span class="token-plain">布局组件标题</span><span class="token-punctuation">&lt;/</span><span class="token-tag">h3</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">      </span><span class="token-punctuation">{</span><span class="token-plain">children</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">    </span><span class="token-punctuation">&lt;/</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">  </span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>全局布局</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">编写自定义的Layout组件</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-keyword">e</span><span class="token-keyword">x</span><span class="token-keyword">p</span><span class="token-keyword">o</span><span class="token-keyword">r</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">d</span><span class="token-keyword">e</span><span class="token-keyword">f</span><span class="token-keyword">a</span><span class="token-keyword">u</span><span class="token-keyword">l</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">f</span><span class="token-keyword">u</span><span class="token-keyword">n</span><span class="token-keyword">c</span><span class="token-keyword">t</span><span class="token-keyword">i</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">M</span><span class="token-function">y</span><span class="token-function">A</span><span class="token-function">p</span><span class="token-function">p</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-parameter"> </span><span class="token-parameter">C</span><span class="token-parameter">o</span><span class="token-parameter">m</span><span class="token-parameter">p</span><span class="token-parameter">o</span><span class="token-parameter">n</span><span class="token-parameter">e</span><span class="token-parameter">n</span><span class="token-parameter">t</span><span class="token-punctuation">,</span><span class="token-parameter"> </span><span class="token-parameter">p</span><span class="token-parameter">a</span><span class="token-parameter">g</span><span class="token-parameter">e</span><span class="token-parameter">P</span><span class="token-parameter">r</span><span class="token-parameter">o</span><span class="token-parameter">p</span><span class="token-parameter">s</span><span class="token-parameter"> </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">MyApp</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-parameter"> Component </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>全局布局</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">自定义的_app.tsx中引入Layout组件</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">I</span><span class="token-plain">n</span><span class="token-plain">d</span><span class="token-plain">e</span><span class="token-plain">x</span><span class="token-plain">P</span><span class="token-plain">a</span><span class="token-plain">g</span><span class="token-plain">e</span><span class="token-punctuation">.</span><span class="token-function-variable">g</span><span class="token-function-variable">e</span><span class="token-function-variable">t</span><span class="token-function-variable">L</span><span class="token-function-variable">a</span><span class="token-function-variable">y</span><span class="token-function-variable">o</span><span class="token-function-variable">u</span><span class="token-function-variable">t</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">f</span><span class="token-keyword">u</span><span class="token-keyword">n</span><span class="token-keyword">c</span><span class="token-keyword">t</span><span class="token-keyword">i</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">g</span><span class="token-function">e</span><span class="token-function">t</span><span class="token-function">L</span><span class="token-function">a</span><span class="token-function">y</span><span class="token-function">o</span><span class="token-function">u</span><span class="token-function">t</span><span class="token-punctuation">(</span><span class="token-parameter">p</span><span class="token-parameter">a</span><span class="token-parameter">g</span><span class="token-parameter">e</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-keyword">e</span><span class="token-keyword">x</span><span class="token-keyword">p</span><span class="token-keyword">o</span><span class="token-keyword">r</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">d</span><span class="token-keyword">e</span><span class="token-keyword">f</span><span class="token-keyword">a</span><span class="token-keyword">u</span><span class="token-keyword">l</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">f</span><span class="token-keyword">u</span><span class="token-keyword">n</span><span class="token-keyword">c</span><span class="token-keyword">t</span><span class="token-keyword">i</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">M</span><span class="token-function">y</span><span class="token-function">A</span><span class="token-function">p</span><span class="token-function">p</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-parameter"> </span><span class="token-parameter">C</span><span class="token-parameter">o</span><span class="token-parameter">m</span><span class="token-parameter">p</span><span class="token-parameter">o</span><span class="token-parameter">n</span><span class="token-parameter">e</span><span class="token-parameter">n</span><span class="token-parameter">t</span><span class="token-punctuation">,</span><span class="token-parameter"> </span><span class="token-parameter">p</span><span class="token-parameter">a</span><span class="token-parameter">g</span><span class="token-parameter">e</span><span class="token-parameter">P</span><span class="token-parameter">r</span><span class="token-parameter">o</span><span class="token-parameter">p</span><span class="token-parameter">s</span><span class="token-parameter"> </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span style="opacity:1">全局布局</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">可以将props传递到Component中</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> getLayout </span><span class="token-operator">=</span><span class="token-plain"> Component</span><span class="token-punctuation">.</span><span class="token-plain">getLayout </span><span class="token-operator">?</span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-parameter">page</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> page</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">I</span><span class="token-plain">n</span><span class="token-plain">d</span><span class="token-plain">e</span><span class="token-plain">x</span><span class="token-plain">P</span><span class="token-plain">a</span><span class="token-plain">g</span><span class="token-plain">e</span><span class="token-punctuation">.</span><span class="token-function-variable">g</span><span class="token-function-variable">e</span><span class="token-function-variable">t</span><span class="token-function-variable">L</span><span class="token-function-variable">a</span><span class="token-function-variable">y</span><span class="token-function-variable">o</span><span class="token-function-variable">u</span><span class="token-function-variable">t</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">f</span><span class="token-keyword">u</span><span class="token-keyword">n</span><span class="token-keyword">c</span><span class="token-keyword">t</span><span class="token-keyword">i</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">g</span><span class="token-function">e</span><span class="token-function">t</span><span class="token-function">L</span><span class="token-function">a</span><span class="token-function">y</span><span class="token-function">o</span><span class="token-function">u</span><span class="token-function">t</span><span class="token-punctuation">(</span><span class="token-parameter">p</span><span class="token-parameter">a</span><span class="token-parameter">g</span><span class="token-parameter">e</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>自定义布局</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">可以在需要自定义布局页面中声明一个getLayout方法，此方法可以自己定义</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> getLayout </span><span class="token-operator">=</span><span class="token-plain"> Component</span><span class="token-punctuation">.</span><span class="token-plain">getLayout </span><span class="token-operator">?</span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-parameter">page</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> page</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">自定义布局</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">在_app中使用，需要判断页面是否有getLayout方法</span></p></div></div></div></div></div><div class="css-gxvojt"><p class="css-0">路由</p><p class="css-0">next.js是根据文件目录自动生成react路由</p><p class="css-0">在创建文件时需要考虑路由中是否需要参数</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">// 可以匹配 /slug、/slug/1、/slug/1/101</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// pages/about/index.tsx</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">About</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> locale </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-string">&#x27;en&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> pathname</span><span class="token-punctuation">,</span><span class="token-plain"> query</span><span class="token-punctuation">,</span><span class="token-plain"> asPath</span><span class="token-punctuation">,</span><span class="token-plain"> basePath</span><span class="token-punctuation">,</span><span class="token-plain"> locals  </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">useRouter</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">    </span><span class="token-punctuation">&lt;</span><span class="token-tag">h3</span><span class="token-punctuation">&gt;</span><span class="token-plain">About页面</span><span class="token-punctuation">&lt;/</span><span class="token-tag">h3</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">  </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>一般路由</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">在pages/about下创建index.tsx文件</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">// 可以匹配 /slug、/slug/1、/slug/1/101</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> useRouter </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;next/router&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> locale </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-string">&#x27;en&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> pathname</span><span class="token-punctuation">,</span><span class="token-plain"> query</span><span class="token-punctuation">,</span><span class="token-plain"> asPath</span><span class="token-punctuation">,</span><span class="token-plain"> basePath</span><span class="token-punctuation">,</span><span class="token-plain"> locals  </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">useRouter</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span style="opacity:1">一般路由</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">可以使用useRouter获取router对象</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">// 可以匹配 /slug、/slug/1、/slug/1/101</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> useRouter </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;next/router&quot;</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>动态路由</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">通过[]匹配单个路由参数，query获取到的是参数对象</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">// 可以匹配 /slug、/slug/1、/slug/1/101</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> useRouter </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;next/router&quot;</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>动态路由</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">通过[...]匹配多个路由参数,获取到为数组</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">// 可以匹配 /slug、/slug/1、/slug/1/101</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> useRouter </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;next/router&quot;</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">动态路由</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">通过[[...]]匹配所有路由参数,获取到为数组或空对象</span></p></div></div></div></div></div><div class="css-gxvojt"><p class="css-0">渲染方式</p><p class="css-0">csr 客户端渲染</p><p class="css-0">ssr 后端渲染</p><p class="css-0">ssg 后端预渲染</p><p class="css-0">isr 增量式预渲染</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">//pages/ssg/[id].tsx</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">    </span><span class="token-string">&quot;https://jsonplaceholder.typicode.com/todos/1&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> useEffect</span><span class="token-punctuation">,</span><span class="token-plain"> useState </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;react&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">IndexPage</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-plain">data</span><span class="token-punctuation">,</span><span class="token-plain"> setData</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">useState</span><span class="token-punctuation">(</span><span class="token-keyword">null</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">  </span><span class="token-function">useEffect</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">    </span><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-function-variable">fetchData</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">async</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">      </span><span class="token-function">setData</span><span class="token-punctuation">(</span><span class="token-string">&quot;data result&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">    </span><span class="token-function">fetchData</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">catch</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-parameter">e</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">      console</span><span class="token-punctuation">.</span><span class="token-function">error</span><span class="token-punctuation">(</span><span class="token-string">&quot;An error occurred while fetching the data: &quot;</span><span class="token-punctuation">,</span><span class="token-plain"> e</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">&lt;</span><span class="token-tag">div</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">{</span><span class="token-plain">data</span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-punctuation">&lt;/</span><span class="token-tag">div</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>客户端渲染</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">可以通过使用useEffect请求数据</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">//pages/ssg/[id].tsx</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">    </span><span class="token-string">&quot;https://jsonplaceholder.typicode.com/todos/1&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-60"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> res </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-function">fetch</span><span class="token-punctuation">(</span><span class="token-template-punctuation">`</span><span class="token-string">https://jsonplaceholder.typicode.com/todos/1</span><span class="token-template-punctuation">`</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span style="opacity:1">客户端渲染</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">也可使用SWR请求数据</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">//pages/ssg/[id].tsx</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> res </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-function">fetch</span><span class="token-punctuation">(</span><span class="token-string">&#x27;https://jsonplaceholder.typicode.com/todos/1&#x27;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-60"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> res </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-function">fetch</span><span class="token-punctuation">(</span><span class="token-template-punctuation">`</span><span class="token-string">https://jsonplaceholder.typicode.com/todos/1</span><span class="token-template-punctuation">`</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span style="opacity:1">SSR后端渲染</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">使用getServerSideProps请求后台数据，通过props传递给paeg页面。每次刷新页面都会重新执行此方法</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">//pages/ssg/[id].tsx</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> res </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-function">fetch</span><span class="token-punctuation">(</span><span class="token-string">&#x27;https://jsonplaceholder.typicode.com/todos/1&#x27;</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq"><span>SSG预渲染,会在build阶段请求数据</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">使用getStaticProps请求后台数据，通过props传递给paeg页面</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">//pages/ssg/[id].tsx</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> res </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-function">fetch</span><span class="token-punctuation">(</span><span class="token-string">&#x27;https://jsonplaceholder.typicode.com/todos/1&#x27;</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">SSG预渲染,会在build阶段请求数据</span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">使用getStaticPaths请求后台数据，创建路由参数信息.但是怎么把path传递给路由呢</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">//pages/ssg/[id].tsx</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> res </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-function">fetch</span><span class="token-punctuation">(</span><span class="token-string">&quot;https://jsonplaceholder.typicode.com/todos/1&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> res </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-function">fetch</span><span class="token-punctuation">(</span><span class="token-string">&#x27;https://jsonplaceholder.typicode.com/todos/1&#x27;</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:0"><span style="opacity:1"></span></h4><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">可以使用路由参数组装params对象</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">//pages/ssg/[id].tsx</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> res </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-function">fetch</span><span class="token-punctuation">(</span><span class="token-string">&quot;https://jsonplaceholder.typicode.com/todos/1&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><h4 class="cs-title css-1q54swq" style="opacity:1"><span style="opacity:1">ISR增量预渲染</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">由于SSG方式是build构建时生成页面，后续不会自动更新。这时可以使用ISR的方式，添加参数revalidate，值为秒</span></p></div></div></div></div></div><div class="css-gxvojt"><p class="css-0">多语言</p><p class="css-0">next.js可以通过引入next-i18next支持多语言。</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> appWithTranslation </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;next-i18next&#x27;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// next-i18next.config.js</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">module</span><span class="token-punctuation">.</span><span class="token-plain">exports </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">  i18n</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    locales</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">      </span><span class="token-string">&#x27;en&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">      </span><span class="token-string">&#x27;zh&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">      </span><span class="token-string">&#x27;zh-tw&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">      </span><span class="token-string">&#x27;ar&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">      </span><span class="token-string">&#x27;pt&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">      </span><span class="token-string">&#x27;pt-br&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">      </span><span class="token-string">&#x27;de&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">      </span><span class="token-string">&#x27;es&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">      </span><span class="token-string">&#x27;fr&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">      </span><span class="token-string">&#x27;id&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">      </span><span class="token-string">&#x27;it&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">      </span><span class="token-string">&#x27;ja&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">      </span><span class="token-string">&#x27;nl&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">      </span><span class="token-string">&#x27;ru&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">      </span><span class="token-string">&#x27;th&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">      </span><span class="token-string">&#x27;tr&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">      </span><span class="token-string">&#x27;uk&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">      </span><span class="token-string">&#x27;vi&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">    </span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-comment">//支持语言</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">    defaultLocale</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;en&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-comment">// 默认的语言</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">    localeDetection</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">  defaultNS</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;header&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-comment">// 设置多语言翻译文件名称，默认是common</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">next-i18next.config</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> appWithTranslation </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;next-i18next&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// next-i18next.config.js</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">在_app.js中引入翻译组件</span></p></div></div></div></div><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-n2kuek" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xdak34" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> serverSideTranslations </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;next-i18next/serverSideTranslations&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> i18n </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">require</span><span class="token-punctuation">(</span><span class="token-string">&#x27;./next-i18next.config&#x27;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-keyword">const</span><span class="token-plain"> nextConfig </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">  i18n</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">module</span><span class="token-punctuation">.</span><span class="token-plain">exports </span><span class="token-operator">=</span><span class="token-plain"> nextConfig</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">next.config.js</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-n2kuek" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xdak34" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> serverSideTranslations </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;next-i18next/serverSideTranslations&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">在pages页面中使用翻译组件</span></p></div></div></div></div><h4 class="cs-title css-1q54swq"><span>多语言翻译</span></h4></div></div><div class="css-gxvojt"><style data-emotion-css="hkmaks">.css-hkmaks{width:100%;height:100%;background-image:url(/static/app.lang-8b94cfaeb2870a49b52fec3dd54c9e7a.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div style="background-size:contain" class="css-hkmaks"></div></div><div class="css-gxvojt"><p class="css-0">状态管理</p><p class="css-0">通过使用mobx来进行全局状态管理。</p><p class="css-0">为了尽量减少页面中js脚本大小，需要在各个页面中动态添加本页面需要的store</p><p class="css-0">如果有页面需要使用全局store时，需要在src/store/ 下创建</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-keyword">import</span><span class="token-plain"> React </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;react&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-keyword">import</span><span class="token-plain"> Layout </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;../components/layout&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-50"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> appWithTranslation </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;next-i18next&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-51"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> StoreProvider </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;../store/index&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-52"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-76"><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">MyApp</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-parameter"> Component</span><span class="token-punctuation">,</span><span class="token-parameter"> pageProps </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-77"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-78"><span class="token-plain">    </span><span class="token-punctuation">&lt;</span><span class="token-class-name">StoreProvider</span><span class="token-tag"> </span><span class="token-attr-name">initialData</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">pageProps</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-79"><span class="token-plain">      </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Layout</span><span class="token-tag"> </span><span class="token-punctuation">{</span><span class="token-punctuation">...</span><span class="token-attr-value">pageProps</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-80"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Component</span><span class="token-tag"> </span><span class="token-punctuation">{</span><span class="token-punctuation">...</span><span class="token-attr-value">pageProps</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-81"><span class="token-plain">      </span><span class="token-punctuation">&lt;/</span><span class="token-class-name">Layout</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-82"><span class="token-plain">    </span><span class="token-punctuation">&lt;/</span><span class="token-class-name">StoreProvider</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-83"><span class="token-plain">  </span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-84"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-86"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-90"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">&lt;</span><span class="token-tag">storeContext.Provider</span><span class="token-tag"> </span><span class="token-attr-name">value</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">store</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">{</span><span class="token-plain">children</span><span class="token-punctuation">}</span><span class="token-punctuation">&lt;/</span><span class="token-tag">storeContext.Provider</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-92"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-function">appWithTranslation</span><span class="token-punctuation">(</span><span class="token-plain">MyApp</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">在_app中引入store组件</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-90"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">&lt;</span><span class="token-tag">storeContext.Provider</span><span class="token-tag"> </span><span class="token-attr-name">value</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">store</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">{</span><span class="token-plain">children</span><span class="token-punctuation">}</span><span class="token-punctuation">&lt;/</span><span class="token-tag">storeContext.Provider</span><span class="token-punctuation">&gt;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">创建StoreProvider组件</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-90"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">&lt;</span><span class="token-tag">storeContext.Provider</span><span class="token-tag"> </span><span class="token-attr-name">value</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">store</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">{</span><span class="token-plain">children</span><span class="token-punctuation">}</span><span class="token-punctuation">&lt;/</span><span class="token-tag">storeContext.Provider</span><span class="token-punctuation">&gt;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">那怎么创建初始store呢</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> enableStaticRendering</span><span class="token-punctuation">,</span><span class="token-plain"> useLocalObservable </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;mobx-react-lite&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-90"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">&lt;</span><span class="token-tag">storeContext.Provider</span><span class="token-tag"> </span><span class="token-attr-name">value</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">store</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">{</span><span class="token-plain">children</span><span class="token-punctuation">}</span><span class="token-punctuation">&lt;/</span><span class="token-tag">storeContext.Provider</span><span class="token-punctuation">&gt;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">初始化全局store</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> enableStaticRendering</span><span class="token-punctuation">,</span><span class="token-plain"> useLocalObservable </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;mobx-react-lite&#x27;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">GlobalStore中存储一些全局使用的属性，比如主题色改变、涨跌幅、时区配置等</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> enableStaticRendering</span><span class="token-punctuation">,</span><span class="token-plain"> useLocalObservable </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;mobx-react-lite&#x27;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">使用mobx-react-lite管理状态store</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> enableStaticRendering</span><span class="token-punctuation">,</span><span class="token-plain"> useLocalObservable </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;mobx-react-lite&#x27;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">由于SSR服务端不需要使用mobx的响应性能，可以禁用掉</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> enableStaticRendering</span><span class="token-punctuation">,</span><span class="token-plain"> useLocalObservable </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;mobx-react-lite&#x27;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">使用useLocalObservable将对象转换为本地可观察对象，从而在属性值改变时，渲染页面数据</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> AboutStore </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;../../../store/about&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> enableStaticRendering</span><span class="token-punctuation">,</span><span class="token-plain"> useLocalObservable </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;mobx-react-lite&#x27;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">如果某个页面需要store时，可以创建自己的自定义store</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">    </span><span class="token-comment">// eslint-disable-next-line @next/next/no-assign-module-variable</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> AboutStore </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;../../../store/about&quot;</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span>在页面上使用addStore将当前状态注入到全局store中</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">    </span><span class="token-comment">// eslint-disable-next-line @next/next/no-assign-module-variable</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">在页面上使用addStore将当前状态注入到全局store中</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">    </span><span class="token-comment">// eslint-disable-next-line @next/next/no-assign-module-variable</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span>使用useStore获取当前的状态</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">    </span><span class="token-comment">// eslint-disable-next-line @next/next/no-assign-module-variable</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">使用useStore获取当前的状态</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">    </span><span class="token-comment">// eslint-disable-next-line @next/next/no-assign-module-variable</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">使用extendObservable注入传入的页面store</span></p></div></div></div></div></div><div class="css-gxvojt"><p class="css-0">next.config.js</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> i18n </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">require</span><span class="token-punctuation">(</span><span class="token-string">&#x27;./next-i18next.config&#x27;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">/** @type {import(&#x27;next&#x27;).NextConfig} */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-comment">// 添加包分析插件</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">const</span><span class="token-plain"> analyzer </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">require</span><span class="token-punctuation">(</span><span class="token-string">&#x27;@next/bundle-analyzer&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  enabled</span><span class="token-punctuation">:</span><span class="token-plain"> process</span><span class="token-punctuation">.</span><span class="token-plain">env</span><span class="token-punctuation">.</span><span class="token-constant">ANALYZE</span><span class="token-plain"> </span><span class="token-operator">===</span><span class="token-plain"> </span><span class="token-string">&#x27;true&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-punctuation">}</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-comment">// 设置next.config对象</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-keyword">const</span><span class="token-plain"> nextConfig </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  transpilePackages</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&#x27;@gateio/core-utils&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-lib&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-header&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-footer&#x27;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">  env</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    </span><span class="token-comment">// 页面子路由名称</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">    </span><span class="token-constant">BASEROOT</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;cryptoloan&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">  assetPrefix</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;/cryptoloan&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">  i18n</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">  reactStrictMode</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  compiler</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">    styledComponents</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">  output</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;standalone&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">  images</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">    domains</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&#x27;gateio-nft-test.s3.us-west-2.amazonaws.com&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;gavatar.gateimg.com&#x27;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">  poweredByHeader</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-comment">// 添加分析组件</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-keyword">const</span><span class="token-plain"> analyzerCfg </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">analyzer</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">  Object</span><span class="token-punctuation">.</span><span class="token-function">assign</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-punctuation">}</span><span class="token-punctuation">,</span><span class="token-plain"> nextConfig</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">    eslint</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">      ignoreDuringBuilds</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">module</span><span class="token-punctuation">.</span><span class="token-plain">exports </span><span class="token-operator">=</span><span class="token-plain"> analyzerCfg</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  transpilePackages</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&#x27;@gateio/core-utils&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-lib&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-header&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-footer&#x27;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">在monorepo项目中将一些公用的包引入到主项目中,同时需要在package.json的dependencies引入。</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  transpilePackages</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&#x27;@gateio/core-utils&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-lib&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-header&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-footer&#x27;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">配置项目的根路由，由于多语言环境，此处不能配置basePath</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  transpilePackages</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&#x27;@gateio/core-utils&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-lib&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-header&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-footer&#x27;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">配置静态资源的请求前缀，也可以配置cdn地址</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  transpilePackages</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&#x27;@gateio/core-utils&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-lib&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-header&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-footer&#x27;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">添加styled-components编译器</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  transpilePackages</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&#x27;@gateio/core-utils&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-lib&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-header&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-footer&#x27;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">打包时生成./next/standalone类型文件夹，输出server.js.可直接node启动</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  transpilePackages</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&#x27;@gateio/core-utils&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-lib&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-header&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-footer&#x27;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">配置next/image使用的外部链接可访问图片域名</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  transpilePackages</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-string">&#x27;@gateio/core-utils&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-lib&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-header&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&#x27;@gateio/core-footer&#x27;</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">可在打包时分析包体积，进行相应优化</span></p></div></div></div></div></div><div class="css-gxvojt"><p class="css-0">SEO支持</p><p class="css-0">直接引入<a href="https://github.com/garmeeh/next-seo#setup" class="css-199bzt4">next-seo</a>,通过配置对seo支持</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> canonicalUrl </span><span class="token-operator">=</span><span class="token-plain"> locale </span><span class="token-operator">===</span><span class="token-plain"> </span><span class="token-string">&#x27;en&#x27;</span><span class="token-plain"> </span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span><span class="token-plain"> </span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io/</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">locale</span><span class="token-interpolation-punctuation">}</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-keyword">const</span><span class="token-plain"> seo </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-54"><span class="token-plain">  openGraph</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-55"><span class="token-plain">    type</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;website&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-56"><span class="token-plain">    site_name</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;Gate Learn&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-57"><span class="token-plain">    images</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-58"><span class="token-plain">      </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-59"><span class="token-plain">        url</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;https://www.gate.io/images/gate.io_logo.png&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-60"><span class="token-plain">        width</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-number">512</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-61"><span class="token-plain">        height</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-number">512</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-62"><span class="token-plain">        alt</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;Gate.io Logo&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-63"><span class="token-plain">      </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-64"><span class="token-plain">    </span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-65"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-66"><span class="token-plain">  twitter</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-67"><span class="token-plain">    handle</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;@gate_io&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-68"><span class="token-plain">    site</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;@gate_io&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">    cardType</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;summary_large_image&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-70"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-71"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-74"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> seo</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">配置next-seo.config.js</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> canonicalUrl </span><span class="token-operator">=</span><span class="token-plain"> locale </span><span class="token-operator">===</span><span class="token-plain"> </span><span class="token-string">&#x27;en&#x27;</span><span class="token-plain"> </span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span><span class="token-plain"> </span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io/</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">locale</span><span class="token-interpolation-punctuation">}</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">在_app文件中引入seo组件</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> canonicalUrl </span><span class="token-operator">=</span><span class="token-plain"> locale </span><span class="token-operator">===</span><span class="token-plain"> </span><span class="token-string">&#x27;en&#x27;</span><span class="token-plain"> </span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span><span class="token-plain"> </span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io/</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">locale</span><span class="token-interpolation-punctuation">}</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">设置canonicalUrl，避免重复内容影响</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> canonicalUrl </span><span class="token-operator">=</span><span class="token-plain"> locale </span><span class="token-operator">===</span><span class="token-plain"> </span><span class="token-string">&#x27;en&#x27;</span><span class="token-plain"> </span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span><span class="token-plain"> </span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io/</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">locale</span><span class="token-interpolation-punctuation">}</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">设置languageAlternates，指定不同语言可访问地址</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> canonicalUrl </span><span class="token-operator">=</span><span class="token-plain"> locale </span><span class="token-operator">===</span><span class="token-plain"> </span><span class="token-string">&#x27;en&#x27;</span><span class="token-plain"> </span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span><span class="token-plain"> </span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io/</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">locale</span><span class="token-interpolation-punctuation">}</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">获取页面的tdk信息，此信息需要从翻译上下文中获取,最终会生成title和description</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> canonicalUrl </span><span class="token-operator">=</span><span class="token-plain"> locale </span><span class="token-operator">===</span><span class="token-plain"> </span><span class="token-string">&#x27;en&#x27;</span><span class="token-plain"> </span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span><span class="token-plain"> </span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io/</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">locale</span><span class="token-interpolation-punctuation">}</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">设置企业组织信息</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> canonicalUrl </span><span class="token-operator">=</span><span class="token-plain"> locale </span><span class="token-operator">===</span><span class="token-plain"> </span><span class="token-string">&#x27;en&#x27;</span><span class="token-plain"> </span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span><span class="token-plain"> </span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">https://www.gate.io/</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">locale</span><span class="token-interpolation-punctuation">}</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">asPath</span><span class="token-interpolation-punctuation">}</span><span class="token-template-punctuation">`</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">设置默认SEO信息，其中会注入next-seo.config中配置的信息</span></p></div></div></div></div></div><div class="css-gxvojt"><p class="css-0">中间件使用</p><p class="css-0">只能有一个middleware的入口文件，和根目录同级。在所有的请求之前执行、可以执行修改header、cookie、重定向、重写等操作</p><p class="css-0">由于所有请求都会执行middleware中的操作，所以其中不能有耗时的操作</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">// middlewares/withSource.ts</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-comment">// middleware.ts</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> connect </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;./middlewares/connect&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-keyword">import</span><span class="token-plain"> withHeader </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;./middlewares/withHeader&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-keyword">import</span><span class="token-plain"> withSource </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;./middlewares/withSource&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-keyword">import</span><span class="token-plain"> withDefault </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;./middlewares/withDefault&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-keyword">const</span><span class="token-plain"> middlewares </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-plain">withHeader</span><span class="token-punctuation">,</span><span class="token-plain"> withSource</span><span class="token-punctuation">,</span><span class="token-plain"> withDefault</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-keyword">const</span><span class="token-plain"> middleware </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">connect</span><span class="token-punctuation">(</span><span class="token-plain">middlewares</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-keyword">const</span><span class="token-plain"> config </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-plain">  matcher</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">    </span><span class="token-template-punctuation">`</span><span class="token-string">/</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">process</span><span class="token-punctuation">.</span><span class="token-interpolation">env</span><span class="token-punctuation">.</span><span class="token-constant">BASEROOT</span><span class="token-interpolation-punctuation">}</span><span class="token-string">/_next/:path*</span><span class="token-template-punctuation">`</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">    </span><span class="token-template-punctuation">`</span><span class="token-string">/</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">process</span><span class="token-punctuation">.</span><span class="token-interpolation">env</span><span class="token-punctuation">.</span><span class="token-constant">BASEROOT</span><span class="token-interpolation-punctuation">}</span><span class="token-string">/public/:path*</span><span class="token-template-punctuation">`</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">    </span><span class="token-template-punctuation">`</span><span class="token-string">/</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">process</span><span class="token-punctuation">.</span><span class="token-interpolation">env</span><span class="token-punctuation">.</span><span class="token-constant">BASEROOT</span><span class="token-interpolation-punctuation">}</span><span class="token-string">/:path*</span><span class="token-template-punctuation">`</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">  </span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> middleware</span><span class="token-punctuation">,</span><span class="token-plain"> config </span><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">// middlewares/withSource.ts</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-keyword">const</span><span class="token-plain"> middlewares </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-plain">withHeader</span><span class="token-punctuation">,</span><span class="token-plain"> withSource</span><span class="token-punctuation">,</span><span class="token-plain"> withDefault</span><span class="token-punctuation">]</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">引入功能拆分的middleware操作</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">// middlewares/withSource.ts</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> NextFetchEvent</span><span class="token-punctuation">,</span><span class="token-plain"> NextMiddleware</span><span class="token-punctuation">,</span><span class="token-plain"> NextRequest</span><span class="token-punctuation">,</span><span class="token-plain"> NextResponse </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;next/server&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-keyword">const</span><span class="token-plain"> middlewares </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-plain">withHeader</span><span class="token-punctuation">,</span><span class="token-plain"> withSource</span><span class="token-punctuation">,</span><span class="token-plain"> withDefault</span><span class="token-punctuation">]</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">正则匹配路由，限制执行middleware的资源</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">// middlewares/withSource.ts</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> NextFetchEvent</span><span class="token-punctuation">,</span><span class="token-plain"> NextMiddleware</span><span class="token-punctuation">,</span><span class="token-plain"> NextRequest</span><span class="token-punctuation">,</span><span class="token-plain"> NextResponse </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;next/server&#x27;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">withSource主要解决页面跳转问题</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">// middlewares/withSource.ts</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> NextFetchEvent</span><span class="token-punctuation">,</span><span class="token-plain"> NextMiddleware</span><span class="token-punctuation">,</span><span class="token-plain"> NextRequest</span><span class="token-punctuation">,</span><span class="token-plain"> NextResponse </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;next/server&#x27;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">等待connect传入的上一步流程执行</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">// middlewares/withSource.ts</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> NextFetchEvent</span><span class="token-punctuation">,</span><span class="token-plain"> NextMiddleware</span><span class="token-punctuation">,</span><span class="token-plain"> NextRequest</span><span class="token-punctuation">,</span><span class="token-plain"> NextResponse </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;next/server&#x27;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">历史原因，web端和app端的多语言简写有些不一致，在app端打开时，需要重定向一次</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> NextFetchEvent</span><span class="token-punctuation">,</span><span class="token-plain"> NextMiddleware</span><span class="token-punctuation">,</span><span class="token-plain"> NextResponse </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;next/server&#x27;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">// middlewares/withSource.ts</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> NextFetchEvent</span><span class="token-punctuation">,</span><span class="token-plain"> NextMiddleware</span><span class="token-punctuation">,</span><span class="token-plain"> NextRequest</span><span class="token-punctuation">,</span><span class="token-plain"> NextResponse </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;next/server&#x27;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">由于路由指定了baseroot,但是打包后的包里是没有baseroot路径的，需要重写</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> NextFetchEvent</span><span class="token-punctuation">,</span><span class="token-plain"> NextMiddleware</span><span class="token-punctuation">,</span><span class="token-plain"> NextResponse </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;next/server&#x27;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">// middlewares/withSource.ts</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">withHeader主要是对页面header进行修改</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> NextFetchEvent</span><span class="token-punctuation">,</span><span class="token-plain"> NextMiddleware</span><span class="token-punctuation">,</span><span class="token-plain"> NextResponse </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;next/server&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">// middlewares/withSource.ts</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">由于后端渲染接口需要xxf信息，需要完善header中的ip信息</span></p></div></div></div></div></div><div class="css-gxvojt"><p class="css-0">next/image 图片资源请求</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-keyword">import</span><span class="token-plain"> Image </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;next/image&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-keyword">import</span><span class="token-plain"> ktongImg </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&quot;../../asserts/11.jpeg&quot;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-keyword">default</span><span class="token-plain"> </span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">ImagesPage</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-parameter"> posts </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">    </span><span class="token-punctuation">&lt;</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">      </span><span class="token-punctuation">&lt;</span><span class="token-tag">div</span><span class="token-punctuation">&gt;</span><span class="token-punctuation">{</span><span class="token-constant">JSON</span><span class="token-punctuation">.</span><span class="token-function">stringify</span><span class="token-punctuation">(</span><span class="token-plain">posts</span><span class="token-punctuation">)</span><span class="token-punctuation">}</span><span class="token-punctuation">&lt;/</span><span class="token-tag">div</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">      </span><span class="token-punctuation">&lt;</span><span class="token-tag">div</span><span class="token-tag"> </span><span class="token-attr-name">style</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-punctuation">{</span><span class="token-script"> width</span><span class="token-punctuation">:</span><span class="token-script"> </span><span class="token-number">200</span><span class="token-punctuation">,</span><span class="token-script"> height</span><span class="token-punctuation">:</span><span class="token-script"> </span><span class="token-number">200</span><span class="token-script"> </span><span class="token-punctuation">}</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Image</span><span class="token-tag"> </span><span class="token-attr-name">src</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">ktongImg</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-attr-name">alt</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">test</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-plain">      </span><span class="token-punctuation">&lt;/</span><span class="token-tag">div</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-punctuation">&lt;</span><span class="token-tag">d</span><span class="token-tag">i</span><span class="token-tag">v</span><span class="token-tag"> </span><span class="token-attr-name">s</span><span class="token-attr-name">t</span><span class="token-attr-name">y</span><span class="token-attr-name">l</span><span class="token-attr-name">e</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-punctuation">{</span><span class="token-script"> </span><span class="token-script">w</span><span class="token-script">i</span><span class="token-script">d</span><span class="token-script">t</span><span class="token-script">h</span><span class="token-punctuation">:</span><span class="token-script"> </span><span class="token-number">2</span><span class="token-number">0</span><span class="token-number">0</span><span class="token-punctuation">,</span><span class="token-script"> </span><span class="token-script">h</span><span class="token-script">e</span><span class="token-script">i</span><span class="token-script">g</span><span class="token-script">h</span><span class="token-script">t</span><span class="token-punctuation">:</span><span class="token-script"> </span><span class="token-number">2</span><span class="token-number">0</span><span class="token-number">0</span><span class="token-punctuation">,</span><span class="token-script"> </span><span class="token-script">p</span><span class="token-script">o</span><span class="token-script">s</span><span class="token-script">i</span><span class="token-script">t</span><span class="token-script">i</span><span class="token-script">o</span><span class="token-script">n</span><span class="token-punctuation">:</span><span class="token-script"> </span><span class="token-string">&quot;</span><span class="token-string">r</span><span class="token-string">e</span><span class="token-string">l</span><span class="token-string">a</span><span class="token-string">t</span><span class="token-string">i</span><span class="token-string">v</span><span class="token-string">e</span><span class="token-string">&quot;</span><span class="token-script"> </span><span class="token-punctuation">}</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Image</span><span class="token-tag"> </span><span class="token-attr-name">src</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">ktongImg</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-attr-name">alt</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">test</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">fill</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-boolean">true</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">      </span><span class="token-punctuation">&lt;/</span><span class="token-tag">div</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">      </span><span class="token-punctuation">&lt;</span><span class="token-tag">div</span><span class="token-tag"> </span><span class="token-attr-name">style</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-punctuation">{</span><span class="token-script"> width</span><span class="token-punctuation">:</span><span class="token-script"> </span><span class="token-number">300</span><span class="token-punctuation">,</span><span class="token-script"> height</span><span class="token-punctuation">:</span><span class="token-script"> </span><span class="token-number">300</span><span class="token-punctuation">,</span><span class="token-script"> position</span><span class="token-punctuation">:</span><span class="token-script"> </span><span class="token-string">&quot;relative&quot;</span><span class="token-script"> </span><span class="token-punctuation">}</span><span class="token-punctuation">}</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Image</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-tag">          </span><span class="token-attr-name">placeholder</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">blur</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-tag">          </span><span class="token-attr-name">src</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">ktongImg</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-tag">          </span><span class="token-attr-name">alt</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">test</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-tag">          </span><span class="token-attr-name">fill</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-boolean">true</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-tag">          </span><span class="token-attr-name">sizes</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-tag">        </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-50"><span class="token-plain">      </span><span class="token-punctuation">&lt;/</span><span class="token-tag">div</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-51"><span class="token-plain">    </span><span class="token-punctuation">&lt;/</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-52"><span class="token-plain">  </span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">引入本地图片</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-tag">          </span><span class="token-attr-name">sizes</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw</span><span class="token-punctuation">&quot;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">本地图片只需要输入src、alt必选属性即可，展示的为原始图片大小</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-tag">          </span><span class="token-attr-name">sizes</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw</span><span class="token-punctuation">&quot;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">设置根据父节点大小填充图片</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-attr-name">style</span><span class="token-punctuation">=&quot;</span><span class="token-property">position</span><span class="token-punctuation">:</span><span class="token-attr-value"> absolute</span><span class="token-punctuation">;</span><span class="token-attr-value"> </span><span class="token-property">height</span><span class="token-punctuation">:</span><span class="token-attr-value"> </span><span class="token-number">100</span><span class="token-unit">%</span><span class="token-punctuation">;</span><span class="token-attr-value"> </span><span class="token-property">width</span><span class="token-punctuation">:</span><span class="token-attr-value"> </span><span class="token-number">100</span><span class="token-unit">%</span><span class="token-punctuation">;</span><span class="token-attr-value"> </span><span class="token-property">inset</span><span class="token-punctuation">:</span><span class="token-attr-value"> </span><span class="token-number">0</span><span class="token-unit">px</span><span class="token-punctuation">;</span><span class="token-attr-value"> </span><span class="token-property">color</span><span class="token-punctuation">:</span><span class="token-attr-value"> transparent</span><span class="token-punctuation">;</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">sizes</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">100vw</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-tag">          </span><span class="token-attr-name">sizes</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw</span><span class="token-punctuation">&quot;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">with/height只是标识图片的宽高比，如果需要自定义配置各个分辨率下的图片尺寸，可以设置size</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Image</span><span class="token-tag"> </span><span class="token-attr-name">src</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">ktongImg</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-attr-name">alt</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">test</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">loader</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">myloader</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-attr-name">style</span><span class="token-punctuation">=&quot;</span><span class="token-property">position</span><span class="token-punctuation">:</span><span class="token-attr-value"> absolute</span><span class="token-punctuation">;</span><span class="token-attr-value"> </span><span class="token-property">height</span><span class="token-punctuation">:</span><span class="token-attr-value"> </span><span class="token-number">100</span><span class="token-unit">%</span><span class="token-punctuation">;</span><span class="token-attr-value"> </span><span class="token-property">width</span><span class="token-punctuation">:</span><span class="token-attr-value"> </span><span class="token-number">100</span><span class="token-unit">%</span><span class="token-punctuation">;</span><span class="token-attr-value"> </span><span class="token-property">inset</span><span class="token-punctuation">:</span><span class="token-attr-value"> </span><span class="token-number">0</span><span class="token-unit">px</span><span class="token-punctuation">;</span><span class="token-attr-value"> </span><span class="token-property">color</span><span class="token-punctuation">:</span><span class="token-attr-value"> transparent</span><span class="token-punctuation">;</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">sizes</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">100vw</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">页面渲染后会得到此img标签</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Image</span><span class="token-tag"> </span><span class="token-attr-name">src</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">ktongImg</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-attr-name">alt</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">test</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">loader</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">myloader</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">由于项目中设置了assetPrefix，需要指定loader，添加图片请求前缀</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Image</span><span class="token-tag"> </span><span class="token-attr-name">src</span><span class="token-punctuation">=</span><span class="token-punctuation">&#x27;</span><span class="token-attr-value">https://wx2.sinaimg.cn/large/0024cZx9ly8hfyf9gbcwaj60ji08i41802.jpg</span><span class="token-punctuation">&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Image</span><span class="token-tag"> </span><span class="token-attr-name">src</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">ktongImg</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-attr-name">alt</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">test</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-attr-name">loader</span><span class="token-script-punctuation">=</span><span class="token-punctuation">{</span><span class="token-script">myloader</span><span class="token-punctuation">}</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">其中src的地址为一个next的内部接口地址，会根据浏览器兼容性，可能返回webp，avif类型图片</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">        </span><span class="token-punctuation">&lt;</span><span class="token-class-name">Image</span><span class="token-tag"> </span><span class="token-attr-name">src</span><span class="token-punctuation">=</span><span class="token-punctuation">&#x27;</span><span class="token-attr-value">https://wx2.sinaimg.cn/large/0024cZx9ly8hfyf9gbcwaj60ji08i41802.jpg</span><span class="token-punctuation">&#x27;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">引入远程图片，需要在next.config.js中指定image的域名，否则不允许访问.同时指定width和height属性</span></p></div></div></div></div></div><div class="css-gxvojt"><p class="css-0">font字体引入</p><p class="css-0">next13版本可以通过next/font/local引入本地字体</p></div><div class="css-gxvojt"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">    </span><span class="token-string">&quot;fontFamily&quot;</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&quot;&#x27;__Gate_Sans_004481&#x27;, &#x27;__Gate_Sans_Fallback_004481&#x27;&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-keyword">import</span><span class="token-plain"> localFont </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;next/font/local&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-keyword">const</span><span class="token-plain"> roboto </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">localFont</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">  src</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-punctuation">[</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">    </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">      path</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;./Roboto-Regular.woff2&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">      weight</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;400&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">      style</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;normal&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">    </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">      path</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;./Roboto-Italic.woff2&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">      weight</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;400&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">      style</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;italic&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">    </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">      path</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;./Roboto-Bold.woff2&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">      weight</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;700&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">      style</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;normal&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">    </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">      path</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;./Roboto-BoldItalic.woff2&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-plain">      weight</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;700&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">      style</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&#x27;italic&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">  </span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-punctuation">}</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-keyword">export</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> roboto </span><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">引入本地字体</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-language-css">          </span><span class="token-selector">--gate-font: $</span><span class="token-punctuation">{</span><span class="token-language-css">Gate_Sans</span><span class="token-number">.</span><span class="token-language-css">style</span><span class="token-number">.</span><span class="token-language-css">fontFamily</span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">    </span><span class="token-string">&quot;fontFamily&quot;</span><span class="token-punctuation">:</span><span class="token-plain"> </span><span class="token-string">&quot;&#x27;__Gate_Sans_004481&#x27;, &#x27;__Gate_Sans_Fallback_004481&#x27;&quot;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">加载完输出样式对象，默认是通过font-display:swap加载字体</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-oedec6" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-xbe36b" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-language-css">          </span><span class="token-selector">--gate-font: $</span><span class="token-punctuation">{</span><span class="token-language-css">Gate_Sans</span><span class="token-number">.</span><span class="token-language-css">style</span><span class="token-number">.</span><span class="token-language-css">fontFamily</span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">{</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">在系统里使用字体时，可以通过输出的style指定</span></p></div></div></div></div></div><div class="css-gxvojt"></div><div class="css-gxvojt"><p class="css-0">docs:<br/>
<a href="https://codesurfer.pomb.us" class="css-199bzt4">codesurfer.pomb.us</a></p></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/print";window.webpackCompilationHash="5240c12072fb6414dfeb";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-800b2ab843b3ac77f96e.js"],"component---gatsby-theme-mdx-deck-src-templates-deck-js":["/component---gatsby-theme-mdx-deck-src-templates-deck-js-472205e127ea4378d33c.js"]};/*]]>*/</script><script src="/component---gatsby-theme-mdx-deck-src-templates-deck-js-472205e127ea4378d33c.js" async=""></script><script src="/app-800b2ab843b3ac77f96e.js" async=""></script><script src="/commons-63258e51d1daedc99591.js" async=""></script><script src="/webpack-runtime-cf49e904ee5893dbe373.js" async=""></script></body></html>